<div class="row complete-height">
    <div class="col-2">
    </div>
    <div class="col-6">
        <div class="mt-2" *ngIf="isLoading">
            <mat-spinner></mat-spinner>
        </div>

        <div class="container mt-4">
            <div class="row mt-4" *ngIf="!isLoading">
                <div class="col-6">
                    <h2>Runner</h2>
                </div>
                <div class="col-6 d-flex justify-content-end">
                    <div>
                        <button class="btn btn-outline-light btn-sm" type="button" *ngIf="!inExecution" (click)="onExecute()">
                          <i class="fas fa-play"></i>
                        Ejecutar
                        </button>
                        <button class="btn btn-outline-light btn-sm" type="button" *ngIf="inExecution">
                          <!-- <i class="fas fa-play"></i> -->
                          Stop<i class="fas fa-pen"></i>
                        </button>
                    </div>

                </div>
            </div>
            <div class="row mt-1">
                <div class="col-6">
                    <h2 class="mb-0">Orden de Ejecución</h2>
                </div>
                <div class="col-6 d-flex justify-content-end">
                    <div>
                        <a>Deseleccionar todos</a>
                    </div>
                    <div class="ms-1">
                        <a>Seleccionar todos</a>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="container overflow-auto my-scrollbar">
                        <div class="row pt-2" *ngFor="let datafile of datafilesWTests">
                            <div class="col-8 pt-2 pb-1">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="datafileCheck" value="{{datafile.datafile._id}}" [checked]="checkDatafile(datafile.datafile._id)">
                                    <label class="form-check-label" for="datafileCheck">
                                      {{datafile.datafile.title}}
                                    </label>
                                </div>

                            </div>
                            <div class="col-4 pt-1 pb-1 justify-content-end">
                                <div>
                                    <select class="form-select form-select-sm" (change)="onTestPicked($event)">
                                      <!-- <option value="{{selectedTest._id}}" selected *ngIf="selectedTest in datafile.tests"> {{selectedTest.title}} </option> --> -->
                                      <option *ngFor="let test of datafile.tests" ng-selected="{{selectedTest == test}}" value="{{test._id}}">{{test.title}}</option>

                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col d-flex justify-content-start">
                    <h2 class="mb-0">Terminal</h2>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="container overflow-auto my-scrollbar-terminal">
                        <div *ngFor="let line of terminal">
                            {{line}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-4">
        <div class="container mt-4 ps-0">
            <div class="row mt-4 pe-2">
                <div class="col pe-0">
                    <h2>Stats</h2>
                </div>
            </div>
            <div class="row mt-4 pe-2">
                <div class="col pe-0">
                </div>
            </div>

            <div class="row mt-4 pe-2">
                <div class="col-4 pe-0">
                    <h2>Pruebas</h2>
                </div>
            </div>
            <div class="row mt-1 pe-2">
                <div class="col p-0">
                    <div class="container">
                        <div class="row p-2 border-header">
                            <div class="col-3 d-flex justify-content-start">
                                <div>Título</div>
                            </div>
                            <div class="col-2 d-flex justify-content-center">
                                <div>Estado</div>
                            </div>
                            <div class="col-2 d-flex justify-content-center">
                                <div>Errores</div>
                            </div>
                            <div class="col-3 d-flex justify-content-center">
                                <div>Fecha</div>
                            </div>
                            <div class="col-2 d-flex justify-content-center">
                                <div>Acciones</div>
                            </div>
                        </div>
                        <div class="row mt-0 p-2 border-content">
                            <div class="col">
                                <div class="row mt-1 mb-1" *ngFor="let test of tests">
                                    <div class="col-3 d-flex justify-content-start">
                                        <div>{{test.title}}</div>
                                    </div>
                                    <div class="col-2 d-flex justify-content-center">
                                        <div>{{test.status}}</div>
                                    </div>
                                    <div class="col-2 d-flex justify-content-center">
                                        <div *ngIf="test.totalErrors">{{test.totalErrors}}</div>
                                        <div *ngIf="!test.totalErrors">NA</div>
                                    </div>
                                    <div class="col-3 d-flex justify-content-center">
                                        <div>{{test.executionMoment | date:'EEEE d MMMM y, h:mm:ss'}}</div>
                                    </div>
                                    <div class="col-2 d-flex justify-content-center">
                                        <div>
                                            <button class="btn btn-outline-light btn-sm" type="button">
                                              <i class="fas fa-download"></i>
                                            </button>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>