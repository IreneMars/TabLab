<div class="modal fade" id="testModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class=" modal-content " style="width:auto;display: inline-block; ">
            <div class="modal-header ">
                <h2 class="modal-title mb-0 " id="exampleModalLabel ">Añadir Esquema</h2>
                <button type="button " class="btn-close " data-bs-dismiss="modal" aria-label="Close " (click)="onCancel()"></button>
            </div>
            <div class="modal-body " style="display: inline-block ">
                <form [formGroup]="testForm " (ngSubmit)="onSave() " style="display: inline-block ">
                    <div class="mb-3 ">
                        <input type="text " class="form-control " placeholder="Título " formControlName="title" [class.is-invalid]="invalidTitle ">
                        <mat-error>
                            <small *ngIf="invalidTitle " class="text-danger ">
                              Ingrese un título adecuado (entre 1 y 100 caracteres).
                            </small>
                        </mat-error>
                    </div>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Delimitador" formControlName="delimiter" [class.is-invalid]="invalidDelimiter">
                        <mat-error>
                            <small *ngIf="invalidDelimiter" class="text-danger">
                              Ingrese un delimitador adecuado.
                            </small>
                        </mat-error>
                    </div>
                    <div class="mb-3 ">
                        <label class="col-form-label">Esquema:</label>
                        <select class="form-select form-select-sm" (change)="onEsquemaPicked($event)">
                              <option selected >Ninguna</option>
                              <option *ngFor="let esquema of esquemas" value="{{esquema.id}}">{{esquema.title}}</option>
                        </select>
                    </div>
                    <div class="mb-3 " style="display: inline-block ">
                        <div class="container">
                            <div class="row border-header p-2">
                                <div class="col-3 d-flex justify-content-start">
                                    <div>Título</div>
                                </div>
                                <div class="col-4 d-flex justify-content-center">
                                    <div>Código de Error</div>
                                </div>
                                <div class="col-4 d-flex justify-content-center">
                                    <div>Parámetros</div>
                                </div>
                                <div class="col-1">
                                    <div></div>
                                </div>
                            </div>
                            <div class="row mt-0 p-2 border-content">
                                <div class="col">
                                    <div class="row mt-1 mb-1" *ngFor="let configuration of configurations">
                                        <td class="col-3 d-flex justify-content-start">
                                            <div>{{configuration.title}}</div>
                                        </td>
                                        <td class="col-4 d-flex justify-content-center">
                                            <div>{{configuration.errorCode}}</div>
                                        </td>
                                        <td class="col-4 d-flex justify-content-center">
                                            <div>{{configuration.extraParamsStr}}</div>
                                        </td>
                                        <td class="col-1 d-flex justify-content-center">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="{{configuration.id}}" id="flexCheckDefault" (change)="onConfigurationPicked($event)">
                                            </div>
                                        </td>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer ">
                <button type="button " class="btn btn-secondary " data-bs-dismiss="modal" (click)="onCancel()">
                    Cancelar
                </button>
                <button type="submit " class="btn btn-primary " *ngIf="!testForm.valid" (click)="onSave()">
                    Crear prueba
                </button>
                <button type="submit " class="btn btn-primary " *ngIf="testForm.valid" data-bs-dismiss="modal" (click)="onSave()">
                    Crear prueba
                </button>
            </div>
        </div>
    </div>
</div>